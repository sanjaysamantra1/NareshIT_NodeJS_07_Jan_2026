Aggregation Operations
======================
-Aggregation operations process multiple documents and return computed results
-Used to: 
	1. Group values from multiple documents together.
	2. Perform operations on the grouped data to return a single result.
	3. Analyze data changes over time.



Aggregation Pipelines
======================
-An aggregation pipeline consists of one or more stages that process documents.
-Each stage performs an operation on the input documents. For example, a stage can filter documents, group documents, and calculate values.
-The documents that are output from a stage are passed to the next stage as input.
-An aggregation pipeline can return results for groups of documents. For example, return the total, average, maximum, and minimum values.

-db.collectionName.aggregate(pipeline, options)
 input --> $match  --> $group --> $sort --> output
 
ex: db.cities.aggregate([
	{$match:{"continent":"Africa"}}
])

$match, $group, $limit, $project, $sort, $addFields, $count, $lookup, $out , $unwind, 


Join In MongoDB 
===============
-use $lookup stage in the aggregation pipeline to perform joins between collections
{
  "$lookup": {
    "from": "foreign_collection",
    "localField": "field_in_current_collection",
    "foreignField": "field_in_foreign_collection",
    "as": "result"
  }
}
from → The name of the collection we want to join.
localField → The field in the current collection.
foreignField → The field in the foreign collection that matches localField.
as → The output field where the joined data will be stored as an array.


$unwind → Flattens arrays from $lookup.
$lookup + $expr → Allows advanced joins with custom conditions.