<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button onclick="addEmployee()">Add EMployee</button>


    <script>
        const url = 'http://localhost:5000/api/employees';

        async function addEmployee() {
            const query = `mutation($name:String!,$sal:Int!,$gender:String!) {
            addEmployee(name:$name,gender:$gender,sal:$sal) {
                gender
                id
                name
                sal
            }
            }`;
            const variables = {
                id: 4,
                name: "rohit sharma",
                gender: "male",
                sal: 5600
            }
            let response = await fetch(url, {
                method: 'POST',
                body: JSON.stringify({ query, variables }),
                headers: { 'Content-Type': 'application/json' }
            });
            let finalResponse = await response.json();
            console.log(finalResponse)
        }


        async function getData() {
            const myQuery = `{employees{id,name,sal,gender}}`;
            let response = await fetch(url, {
                method: 'POST',
                body: JSON.stringify({ query: myQuery }),
                headers: { 'Content-Type': 'application/json' }
            });
            let finalResponse = await response.json();
            console.log(finalResponse)
        }
        getData()
    </script>
</body>

</html>